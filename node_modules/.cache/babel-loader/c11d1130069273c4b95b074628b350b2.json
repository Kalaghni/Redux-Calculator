{"ast":null,"code":"import { evaluate, sqrt } from \"mathjs\";\n\nconst calculatorReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"APPEND_NUM\":\n      return state + action.char.toString();\n\n    case \"APPEND_SYMBOL\":\n      return state + \" \" + action.char + \" \";\n\n    case \"BACKSPACE_NUM\":\n      if (state.toString().endsWith(\" \")) {\n        return state.toString().slice(0, -3);\n      } else {\n        return state.toString().slice(0, -1);\n      }\n\n    case \"EQUALS\":\n      try {\n        let result = evaluate(state);\n\n        if (!isNaN(result)) {\n          return evaluate(state);\n        } else {\n          console.log(document.getElementById('mainscreen').innerText);\n          return state;\n        }\n      } catch {\n        return state;\n      }\n\n    case \"SQRT\":\n      return sqrt(parseFloat(state));\n\n    case \"CLEAR\":\n      return \"\";\n\n    case \"NEGATIVE\":\n      try {\n        let result = evaluate(state);\n\n        if (!isNaN) {\n          return result * -1;\n        } else {\n          return state;\n        }\n      } catch {\n        return state;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default calculatorReducer;","map":{"version":3,"names":["evaluate","sqrt","calculatorReducer","state","action","type","char","toString","endsWith","slice","result","isNaN","console","log","document","getElementById","innerText","parseFloat"],"sources":["/Users/joshwood/Workspace/react-playground/redux-calculator/src/reducers/calculatorReducer.js"],"sourcesContent":["import { evaluate, sqrt } from \"mathjs\";\n\nconst calculatorReducer = (state = \"\", action) => {\n    switch(action.type) {\n        case \"APPEND_NUM\":\n            return state + action.char.toString();\n        case \"APPEND_SYMBOL\":\n            return state + \" \" + action.char + \" \";\n        case \"BACKSPACE_NUM\":\n            if (state.toString().endsWith(\" \")) {\n                return state.toString().slice(0, -3);\n            }\n            else {\n                return state.toString().slice(0, -1);\n            }            \n        case \"EQUALS\":\n            try {\n                let result = evaluate(state);\n                if (!isNaN(result)) {\n                    return evaluate(state);\n                }\n                else {\n                    console.log(document.getElementById('mainscreen').innerText);\n                    return state;\n                }\n            }\n            catch {\n                return state;\n            }\n        case \"SQRT\":\n            return sqrt(parseFloat(state));\n        case \"CLEAR\":\n            return \"\";\n        case \"NEGATIVE\":\n            try {\n                let result = evaluate(state);\n                if (!isNaN) {\n                    return result * -1;\n                }\n                else {\n                    return state;\n                }\n            }\n            catch {\n                return state;\n            }\n        default:\n            return state;\n    }\n}\nexport default calculatorReducer;"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,IAAnB,QAA+B,QAA/B;;AAEA,MAAMC,iBAAiB,GAAG,YAAwB;EAAA,IAAvBC,KAAuB,uEAAf,EAAe;EAAA,IAAXC,MAAW;;EAC9C,QAAOA,MAAM,CAACC,IAAd;IACI,KAAK,YAAL;MACI,OAAOF,KAAK,GAAGC,MAAM,CAACE,IAAP,CAAYC,QAAZ,EAAf;;IACJ,KAAK,eAAL;MACI,OAAOJ,KAAK,GAAG,GAAR,GAAcC,MAAM,CAACE,IAArB,GAA4B,GAAnC;;IACJ,KAAK,eAAL;MACI,IAAIH,KAAK,CAACI,QAAN,GAAiBC,QAAjB,CAA0B,GAA1B,CAAJ,EAAoC;QAChC,OAAOL,KAAK,CAACI,QAAN,GAAiBE,KAAjB,CAAuB,CAAvB,EAA0B,CAAC,CAA3B,CAAP;MACH,CAFD,MAGK;QACD,OAAON,KAAK,CAACI,QAAN,GAAiBE,KAAjB,CAAuB,CAAvB,EAA0B,CAAC,CAA3B,CAAP;MACH;;IACL,KAAK,QAAL;MACI,IAAI;QACA,IAAIC,MAAM,GAAGV,QAAQ,CAACG,KAAD,CAArB;;QACA,IAAI,CAACQ,KAAK,CAACD,MAAD,CAAV,EAAoB;UAChB,OAAOV,QAAQ,CAACG,KAAD,CAAf;QACH,CAFD,MAGK;UACDS,OAAO,CAACC,GAAR,CAAYC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,SAAlD;UACA,OAAOb,KAAP;QACH;MACJ,CATD,CAUA,MAAM;QACF,OAAOA,KAAP;MACH;;IACL,KAAK,MAAL;MACI,OAAOF,IAAI,CAACgB,UAAU,CAACd,KAAD,CAAX,CAAX;;IACJ,KAAK,OAAL;MACI,OAAO,EAAP;;IACJ,KAAK,UAAL;MACI,IAAI;QACA,IAAIO,MAAM,GAAGV,QAAQ,CAACG,KAAD,CAArB;;QACA,IAAI,CAACQ,KAAL,EAAY;UACR,OAAOD,MAAM,GAAG,CAAC,CAAjB;QACH,CAFD,MAGK;UACD,OAAOP,KAAP;QACH;MACJ,CARD,CASA,MAAM;QACF,OAAOA,KAAP;MACH;;IACL;MACI,OAAOA,KAAP;EA5CR;AA8CH,CA/CD;;AAgDA,eAAeD,iBAAf"},"metadata":{},"sourceType":"module"}