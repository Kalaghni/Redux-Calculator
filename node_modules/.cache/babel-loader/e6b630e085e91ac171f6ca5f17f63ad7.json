{"ast":null,"code":"import { evaluate, sqrt } from \"mathjs\";\n\nconst calculatorReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  var element = document.getElementById('mainscreen');\n\n  if (element.class !== \"error\") {\n    element.remove(\"error\");\n  }\n\n  switch (action.type) {\n    case \"APPEND_NUM\":\n      return state + action.char.toString();\n\n    case \"APPEND_SYMBOL\":\n      return state + \" \" + action.char + \" \";\n\n    case \"BACKSPACE_NUM\":\n      if (state.toString().endsWith(\" \")) {\n        return state.toString().slice(0, -3);\n      } else {\n        return state.toString().slice(0, -1);\n      }\n\n    case \"EQUALS\":\n      try {\n        let result = evaluate(state);\n\n        if (!isNaN(result)) {\n          return evaluate(state);\n        } else {\n          document.getElementById('mainscreen').classList.add(\"error\");\n          return state;\n        }\n      } catch {\n        document.getElementById('mainscreen').classList.add(\"error\");\n        return state;\n      }\n\n    case \"SQRT\":\n      return sqrt(parseFloat(state));\n\n    case \"CLEAR\":\n      return \"\";\n\n    case \"NEGATIVE\":\n      try {\n        let result = evaluate(state);\n\n        if (!isNaN) {\n          return result * -1;\n        } else {\n          document.getElementById('mainscreen').classList.add(\"error\");\n          return state;\n        }\n      } catch {\n        document.getElementById('mainscreen').classList.add(\"error\");\n        return state;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default calculatorReducer;","map":{"version":3,"names":["evaluate","sqrt","calculatorReducer","state","action","element","document","getElementById","class","remove","type","char","toString","endsWith","slice","result","isNaN","classList","add","parseFloat"],"sources":["/Users/joshwood/Workspace/react-playground/redux-calculator/src/reducers/calculatorReducer.js"],"sourcesContent":["import { evaluate, sqrt } from \"mathjs\";\n\nconst calculatorReducer = (state = \"\", action) => {\n    var element = document.getElementById('mainscreen');\n    if (element.class !== \"error\") {\n        element.remove(\"error\");\n    }\n    switch(action.type) {\n        case \"APPEND_NUM\":\n            return state + action.char.toString();\n        case \"APPEND_SYMBOL\":\n            return state + \" \" + action.char + \" \";\n        case \"BACKSPACE_NUM\":\n            if (state.toString().endsWith(\" \")) {\n                return state.toString().slice(0, -3);\n            }\n            else {\n                return state.toString().slice(0, -1);\n            }            \n        case \"EQUALS\":\n            try {\n                let result = evaluate(state);\n                if (!isNaN(result)) {\n                    return evaluate(state);\n                }\n                else {\n                    document.getElementById('mainscreen').classList.add(\"error\");\n                    return state;\n                }\n            }\n            catch {\n                document.getElementById('mainscreen').classList.add(\"error\");\n                return state;\n            }\n        case \"SQRT\":\n            return sqrt(parseFloat(state));\n        case \"CLEAR\":\n            return \"\";\n        case \"NEGATIVE\":\n            try {\n                let result = evaluate(state);\n                if (!isNaN) {\n                    return result * -1;\n                }\n                else {\n                    document.getElementById('mainscreen').classList.add(\"error\");\n                    return state;\n                }\n            }\n            catch {\n                document.getElementById('mainscreen').classList.add(\"error\");\n                return state;\n            }\n        default:\n            return state;\n    }\n}\nexport default calculatorReducer;"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,IAAnB,QAA+B,QAA/B;;AAEA,MAAMC,iBAAiB,GAAG,YAAwB;EAAA,IAAvBC,KAAuB,uEAAf,EAAe;EAAA,IAAXC,MAAW;EAC9C,IAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAd;;EACA,IAAIF,OAAO,CAACG,KAAR,KAAkB,OAAtB,EAA+B;IAC3BH,OAAO,CAACI,MAAR,CAAe,OAAf;EACH;;EACD,QAAOL,MAAM,CAACM,IAAd;IACI,KAAK,YAAL;MACI,OAAOP,KAAK,GAAGC,MAAM,CAACO,IAAP,CAAYC,QAAZ,EAAf;;IACJ,KAAK,eAAL;MACI,OAAOT,KAAK,GAAG,GAAR,GAAcC,MAAM,CAACO,IAArB,GAA4B,GAAnC;;IACJ,KAAK,eAAL;MACI,IAAIR,KAAK,CAACS,QAAN,GAAiBC,QAAjB,CAA0B,GAA1B,CAAJ,EAAoC;QAChC,OAAOV,KAAK,CAACS,QAAN,GAAiBE,KAAjB,CAAuB,CAAvB,EAA0B,CAAC,CAA3B,CAAP;MACH,CAFD,MAGK;QACD,OAAOX,KAAK,CAACS,QAAN,GAAiBE,KAAjB,CAAuB,CAAvB,EAA0B,CAAC,CAA3B,CAAP;MACH;;IACL,KAAK,QAAL;MACI,IAAI;QACA,IAAIC,MAAM,GAAGf,QAAQ,CAACG,KAAD,CAArB;;QACA,IAAI,CAACa,KAAK,CAACD,MAAD,CAAV,EAAoB;UAChB,OAAOf,QAAQ,CAACG,KAAD,CAAf;QACH,CAFD,MAGK;UACDG,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCU,SAAtC,CAAgDC,GAAhD,CAAoD,OAApD;UACA,OAAOf,KAAP;QACH;MACJ,CATD,CAUA,MAAM;QACFG,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCU,SAAtC,CAAgDC,GAAhD,CAAoD,OAApD;QACA,OAAOf,KAAP;MACH;;IACL,KAAK,MAAL;MACI,OAAOF,IAAI,CAACkB,UAAU,CAAChB,KAAD,CAAX,CAAX;;IACJ,KAAK,OAAL;MACI,OAAO,EAAP;;IACJ,KAAK,UAAL;MACI,IAAI;QACA,IAAIY,MAAM,GAAGf,QAAQ,CAACG,KAAD,CAArB;;QACA,IAAI,CAACa,KAAL,EAAY;UACR,OAAOD,MAAM,GAAG,CAAC,CAAjB;QACH,CAFD,MAGK;UACDT,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCU,SAAtC,CAAgDC,GAAhD,CAAoD,OAApD;UACA,OAAOf,KAAP;QACH;MACJ,CATD,CAUA,MAAM;QACFG,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCU,SAAtC,CAAgDC,GAAhD,CAAoD,OAApD;QACA,OAAOf,KAAP;MACH;;IACL;MACI,OAAOA,KAAP;EA/CR;AAiDH,CAtDD;;AAuDA,eAAeD,iBAAf"},"metadata":{},"sourceType":"module"}