{"ast":null,"code":"import { evaluate, sqrt } from \"mathjs\";\n\nconst calculatorReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  var element = document.getElementById('mainscreen');\n\n  try {\n    element.classList.remove(\"error\");\n  } catch {}\n\n  switch (action.type) {\n    case \"APPEND_NUM\":\n      return state + action.char.toString();\n\n    case \"APPEND_SYMBOL\":\n      return state + \" \" + action.char + \" \";\n\n    case \"BACKSPACE_NUM\":\n      if (state.toString().endsWith(\" \")) {\n        return state.toString().slice(0, -3);\n      } else {\n        return state.toString().slice(0, -1);\n      }\n\n    case \"EQUALS\":\n      try {\n        let result = evaluate(state);\n\n        if (!isNaN(result)) {\n          return evaluate(state);\n        } else {\n          element.classList.add(\"error\");\n          return state;\n        }\n      } catch {\n        element.classList.add(\"error\");\n        return state;\n      }\n\n    case \"SQRT\":\n      try {\n        let result = sqrt(parseFloat(state));\n\n        if (!isNaN(result)) {\n          return result;\n        } else {\n          element.classList.add(\"error\");\n          return state;\n        }\n      } catch {\n        element.classList.add(\"error\");\n        return state;\n      }\n\n    case \"CLEAR\":\n      return \"\";\n\n    case \"NEGATIVE\":\n      try {\n        let result = evaluate(state);\n\n        if (!isNaN) {\n          return result * -1;\n        } else {\n          element.classList.add(\"error\");\n          return state;\n        }\n      } catch {\n        element.classList.add(\"error\");\n        return state;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default calculatorReducer;","map":{"version":3,"names":["evaluate","sqrt","calculatorReducer","state","action","element","document","getElementById","classList","remove","type","char","toString","endsWith","slice","result","isNaN","add","parseFloat"],"sources":["/Users/joshwood/Workspace/react-playground/redux-calculator/src/reducers/calculatorReducer.js"],"sourcesContent":["import { evaluate, sqrt } from \"mathjs\";\n\nconst calculatorReducer = (state = \"\", action) => {\n    var element = document.getElementById('mainscreen');\n    try {\n        element.classList.remove(\"error\");\n    }\n    catch {\n\n    }\n   \n    switch(action.type) {\n        case \"APPEND_NUM\":\n            return state + action.char.toString();\n        case \"APPEND_SYMBOL\":\n            return state + \" \" + action.char + \" \";\n        case \"BACKSPACE_NUM\":\n            if (state.toString().endsWith(\" \")) {\n                return state.toString().slice(0, -3);\n            }\n            else {\n                return state.toString().slice(0, -1);\n            }            \n        case \"EQUALS\":\n            try {\n                let result = evaluate(state);\n                if (!isNaN(result)) {\n                    return evaluate(state);\n                }\n                else {\n                    element.classList.add(\"error\");\n                    return state;\n                }\n            }\n            catch {\n                element.classList.add(\"error\");\n                return state;\n            }\n        case \"SQRT\":\n            try {\n                let result = sqrt(parseFloat(state));\n                if (!isNaN(result)) {\n                    return result;\n                }\n                else {\n                    element.classList.add(\"error\");\n                    return state;\n                }\n            }\n            catch {\n                element.classList.add(\"error\");\n                return state;\n            }\n        case \"CLEAR\":\n            return \"\";\n        case \"NEGATIVE\":\n            try {\n                let result = evaluate(state);\n                if (!isNaN) {\n                    return result * -1;\n                }\n                else {\n                    element.classList.add(\"error\");\n                    return state;\n                }\n            }\n            catch {\n                element.classList.add(\"error\");\n                return state;\n            }\n        default:\n            return state;\n    }\n}\nexport default calculatorReducer;"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,IAAnB,QAA+B,QAA/B;;AAEA,MAAMC,iBAAiB,GAAG,YAAwB;EAAA,IAAvBC,KAAuB,uEAAf,EAAe;EAAA,IAAXC,MAAW;EAC9C,IAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAd;;EACA,IAAI;IACAF,OAAO,CAACG,SAAR,CAAkBC,MAAlB,CAAyB,OAAzB;EACH,CAFD,CAGA,MAAM,CAEL;;EAED,QAAOL,MAAM,CAACM,IAAd;IACI,KAAK,YAAL;MACI,OAAOP,KAAK,GAAGC,MAAM,CAACO,IAAP,CAAYC,QAAZ,EAAf;;IACJ,KAAK,eAAL;MACI,OAAOT,KAAK,GAAG,GAAR,GAAcC,MAAM,CAACO,IAArB,GAA4B,GAAnC;;IACJ,KAAK,eAAL;MACI,IAAIR,KAAK,CAACS,QAAN,GAAiBC,QAAjB,CAA0B,GAA1B,CAAJ,EAAoC;QAChC,OAAOV,KAAK,CAACS,QAAN,GAAiBE,KAAjB,CAAuB,CAAvB,EAA0B,CAAC,CAA3B,CAAP;MACH,CAFD,MAGK;QACD,OAAOX,KAAK,CAACS,QAAN,GAAiBE,KAAjB,CAAuB,CAAvB,EAA0B,CAAC,CAA3B,CAAP;MACH;;IACL,KAAK,QAAL;MACI,IAAI;QACA,IAAIC,MAAM,GAAGf,QAAQ,CAACG,KAAD,CAArB;;QACA,IAAI,CAACa,KAAK,CAACD,MAAD,CAAV,EAAoB;UAChB,OAAOf,QAAQ,CAACG,KAAD,CAAf;QACH,CAFD,MAGK;UACDE,OAAO,CAACG,SAAR,CAAkBS,GAAlB,CAAsB,OAAtB;UACA,OAAOd,KAAP;QACH;MACJ,CATD,CAUA,MAAM;QACFE,OAAO,CAACG,SAAR,CAAkBS,GAAlB,CAAsB,OAAtB;QACA,OAAOd,KAAP;MACH;;IACL,KAAK,MAAL;MACI,IAAI;QACA,IAAIY,MAAM,GAAGd,IAAI,CAACiB,UAAU,CAACf,KAAD,CAAX,CAAjB;;QACA,IAAI,CAACa,KAAK,CAACD,MAAD,CAAV,EAAoB;UAChB,OAAOA,MAAP;QACH,CAFD,MAGK;UACDV,OAAO,CAACG,SAAR,CAAkBS,GAAlB,CAAsB,OAAtB;UACA,OAAOd,KAAP;QACH;MACJ,CATD,CAUA,MAAM;QACFE,OAAO,CAACG,SAAR,CAAkBS,GAAlB,CAAsB,OAAtB;QACA,OAAOd,KAAP;MACH;;IACL,KAAK,OAAL;MACI,OAAO,EAAP;;IACJ,KAAK,UAAL;MACI,IAAI;QACA,IAAIY,MAAM,GAAGf,QAAQ,CAACG,KAAD,CAArB;;QACA,IAAI,CAACa,KAAL,EAAY;UACR,OAAOD,MAAM,GAAG,CAAC,CAAjB;QACH,CAFD,MAGK;UACDV,OAAO,CAACG,SAAR,CAAkBS,GAAlB,CAAsB,OAAtB;UACA,OAAOd,KAAP;QACH;MACJ,CATD,CAUA,MAAM;QACFE,OAAO,CAACG,SAAR,CAAkBS,GAAlB,CAAsB,OAAtB;QACA,OAAOd,KAAP;MACH;;IACL;MACI,OAAOA,KAAP;EA5DR;AA8DH,CAvED;;AAwEA,eAAeD,iBAAf"},"metadata":{},"sourceType":"module"}